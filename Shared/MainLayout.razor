@inherits LayoutComponentBase

@*<div class="sidebar">
    <NavMenu />
</div>*@

    <div class="main d-flex flex-column justify-content-center">

        <div id="header" class="row">
            <div class="col-2"></div>
            <div class="col-2 d-flex flex-column align-items-center justify-content-center">
                <svg class="@(InfoActive ? "active" : "") ml-5 bi bi-info-square fade-down-in-2" @onclick="InfoIconClick" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M14 1H2a1 1 0 00-1 1v12a1 1 0 001 1h12a1 1 0 001-1V2a1 1 0 00-1-1zM2 0a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V2a2 2 0 00-2-2H2z" clip-rule="evenodd" />
                    <path d="M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588z" />
                    <circle cx="8" cy="4.5" r="1" />
                </svg>
            </div>
            <div class="col-4 d-flex flex-column align-items-center">
                <div class="row">
                    <h1 class="fade-down-in-3">Brooke-ify</h1>
                </div>
                <div class="row">
                    <div class="row">
                        <div class="col d-flex justify-content-center fade-down-in-2">
                            @DateTime.Now.ToString("dddd, dd MMMM yyyy")
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-2 d-flex flex-column align-items-center justify-content-center">
                <svg class="mr-5 bi bi-upload fade-down-in-2" @onclick="UploadIconClick" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M.5 8a.5.5 0 01.5.5V12a1 1 0 001 1h12a1 1 0 001-1V8.5a.5.5 0 011 0V12a2 2 0 01-2 2H2a2 2 0 01-2-2V8.5A.5.5 0 01.5 8zM5 4.854a.5.5 0 00.707 0L8 2.56l2.293 2.293A.5.5 0 1011 4.146L8.354 1.5a.5.5 0 00-.708 0L5 4.146a.5.5 0 000 .708z" clip-rule="evenodd" />
                    <path fill-rule="evenodd" d="M8 2a.5.5 0 01.5.5v8a.5.5 0 01-1 0v-8A.5.5 0 018 2z" clip-rule="evenodd" />
                </svg>
            </div>
            <div class="col-2"></div>
        </div>

        <div id="info" class="row @InfoStyle">
            <div class="col-2"></div>
            <div class="col-8">
                @InfoText
            </div>
            <div class="col-2"></div>
        </div>

        <div class="content row p-4 d-flex">
            @Body
        </div>
    </div>

@code {
    public bool InfoActive = false;
    private string InfoStyle = "opaque";
    public string InfoText;

    public void ToggleInfo(string infoText)
    {
        if(!InfoActive) InfoText = infoText;
        InfoActive = InfoActive ? false : true;
        InfoStyle = InfoActive ? "fade-in show" : "fade-out";
    }

    public void InfoIconClick()
    {
        ToggleInfo("This application provides you with a fitness path built from Brooke's uploaded WODify performance history. Follow this path and you will literally be exactly as fit as Brooke");
    }

    public void UploadIconClick()
    {
        var text = "Sorry friend, this feature isn't supported yet. Eventually you'll be able to upload your own exported WODify performance history and make YOU-ify.";
        if (!InfoActive)
        {
            ToggleInfo(text);
        }
        else
        {
            InfoText = text;
        }
    }
}
